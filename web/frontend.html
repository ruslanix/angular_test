<!DOCTYPE html>
<html>
<link rel="stylesheet" href = "http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<body ng-app="myApp" ng-controller="userCtrl">

<div class="container">

<h3>Images</h3>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Edit</th>
      <th>Image</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="image in images">
      <td>
        <button class="btn" ng-click="editImage(image.id)">
          <span class="glyphicon glyphicon-pencil"></span>  Edit
        </button>
        <button class="btn" ng-click="deleteImage(image.id)">
          <span class="glyphicon glyphicon-remove"></span>  Delete
        </button>
      </td>
      <td><img ng-src="{{ '/images/' + image.filename}}" alt="{{image.label}}" width="100px"/></td>
    </tr>
  </tbody>
</table>

<hr>
<button class="btn btn-success" ng-click="editImage('new')" ng-show="edit">
<span class="glyphicon glyphicon-user"></span>  Add image
</button>
<hr>

<h3 ng-hide="edit">Add Image:</h3>
<h3 ng-show="edit">Edit Image:</h3>

<form class="form-horizontal" data-ng-submit="addFile()" name="image">
  <div class="form-group">
    <label class="col-sm-2 control-label">Label:</label>
    <div class="col-sm-10">
    <input type="text" ng-model="label" placeholder="Label">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">File:</label>
    <div class="col-sm-10">
    <input type="file" onchange="angular.element(this).scope().uploadedFile(this)">
    <img ng-show="edit" ng-src="{{ '/images/' + filename}}" width="100px"/>
    </div>
  </div>

    <hr>
    <button class="btn btn-success" ng-disabled="error || incomplete" type="submit">
    <span class="glyphicon glyphicon-save"></span>  Save
    </button>
</form>



</div>

<script src= "frontend.js"></script>

</body>
</html>
